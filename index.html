<!DOCTYPE html>
<html>
	<head>
		<title>La Grande Demesure!</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="styles/gd.css" />
	</head>
	
    <script src="js/aframe-v0.9.2.js"></script>
    <script src="js/aframe-ar.js"></script>
	<script src="js/aframe-extras.loaders.js"></script>
	<script src="js/aframe-text-geometry-component.js"></script>
	<script src="js/aframe-particleplayer-component.js"></script>
	<script src="js/gd.js"></script>
	<!-- https://github.com/supermedium/aframe-particleplayer-component/blob/master/examples/fireworks/index.html -->
	
<body style="margin : 0px; overflow: hidden;">

     <a-scene embedded arjs='deviceId: a41c4f09122750a91901efb4b3e68539d1c83081624632f0cbd8bdf17b2b46b8; 
		sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;' renderer="antialias: true">
	
		<a-assets>
            <img id="goldenFoil" src="images/gold-foil.jpg" crossorigin="anonymous" />
			<img src="images/dust.png" id="dustTex">
	        <img src="images/star.png" id="starTex">
	        <img src="images/energy.png" id="energyTex">
			<img src="images/sprite.png" id="particleTex">
			
			<a-asset-item id="particlesOrbJson" src="data/particles-orb.json"></a-asset-item>
	        <a-asset-item id="particlesEnergyJson" src="data/particles-energy.json"></a-asset-item>
	        <a-asset-item id="particlesDustJson" src="data/particles-dust.json"></a-asset-item>
			
			<a-asset-item id="particlesJson" src="data/particles-fireworks.json"></a-asset-item>
       
			<a-asset-item id="helvetikerFont" src="fonts/helvetiker_regular.typeface.json"></a-asset-item>
			<a-asset-item id="optimerFont" src="fonts/optimer_regular.typeface.json"></a-asset-item>
        </a-assets>
		
		<!--
		<a-entity position="0 0 -10" rotation="0 -2 0">
			<a-entity particleplayer="delay: 500; src: #particlesOrbJson; img: #starTex; dur: 4000; count: 40%; scale: 1; pscale: 9; interpolate: false; shader: standard; poolSize: 1; loop: true"></a-entity>
	        <a-entity particleplayer="delay: 500; src: #particlesEnergyJson; img: #energyTex; dur: 4000; count: 100%; scale: 1; pscale: 2; interpolate: false; shader: standard; poolSize: 1; loop: true;"></a-entity>
	        <a-entity particleplayer="delay: 500; src: #particlesDustJson; img: #dustTex; dur: 4000; count: 100%; scale: 1; pscale: 1; interpolate: false; shader: standard; poolSize: 1; loop: true; color: #aaf"></a-entity>
      	</a-entity>
		-->
		
		<!-- fireworks -->
		<a-entity position="0 2 10" trigger particleplayer="on: particleplayerstart; src: #particlesJson; img: #particleTex; dur: 2000; count: 50%; scale: 1; pscale: 2; interpolate: true; shader: standard; poolSize: 50"></a-entity>

		 <!-- lights -->
		<a-light position="0 5 10" type="point" color="#fca"></a-light>
	    <a-light position="-6 14 20" type="point" color="#fca"></a-light>
					
    	<a-marker id="text-marker" type='barcode' value='6'>
		  	<a-entity position="-3 6.5 0" 
				text-geometry="value: La Grande; font: #optimerFont; bevelEnabled: true; bevelSize: 0.05; bevelThickness: 0.05; curveSegments: 12; size: 1; height: 0;" 
				material="src: #goldenFoil; metalness:1; roughness: 0;">
			</a-entity>
			<a-entity position="-3 5 0" 
				text-geometry="value: DÃ©mesure; font: #optimerFont; bevelEnabled: true; bevelSize: 0.05; bevelThickness: 0.05; curveSegments: 12; size: 1; height: 0;" 
				material="src: #goldenFoil; metalness:1; roughness: 0;">
			</a-entity>
    	</a-marker>
		
		<a-entity camera></a-entity>
		
    </a-scene>
</body>

</html>